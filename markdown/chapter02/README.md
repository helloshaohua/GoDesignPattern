# OOPåŸºç¡€

- ç±»ä¸å¯¹è±¡ã€‚
- ä¸‰å¤§åŸºæœ¬ç‰¹æ€§ã€‚
- äº”å¤§åŸºæœ¬åŸåˆ™ã€‚

## Goä¸­çš„ç±»ä¸å¯¹è±¡

Goä¸­ç”¨ç»“æ„ä½“æ¨¡æ‹Ÿç±»ä¸å¯¹è±¡ã€‚

```go
// Bike è¡¨ç¤ºä¸€ä¸ªç±»å‹æˆ–è€…è¯´ä¸€ä¸ªOOPç±»
type Bike struct {
	color string // é¦–å­—æ¯å°å†™è¡¨ç¤ºå±æ€§ç§æœ‰
	Name  string // é¦–å­—æ¯å¤§å°è¡¨ç¤ºå±æ€§å…¬æœ‰
}

// é¦–å­—æ¯å¤§å†™è¡¨ç¤ºæ–¹æ³•å¯¹å¤–å…¬å¼€
func (b *Bike) Move() string {
	return b.color + "çš„è‡ªè¡Œè½¦åœ¨å‰è¿›ğŸš²"
}
```

## Goä¸­çš„ä¸‰å¤§åŸºæœ¬ç‰¹æ€§

- **_å°è£…_**ï¼šé¦–å­—æ¯å¤§å°å†™æ–¹å¼ä»£è¡¨å…¬æœ‰ç§æœ‰æƒé™ã€‚

```go
type Person struct {
	name string
}

func (p *Person) Eat() {
	fmt.Println(p.name + "åœ¨åƒé¥­")
}
```

- **_ç»§æ‰¿_**ï¼šä½¿ç”¨å†…åµŒçš„æ–¹å¼ï¼Œå¯¹ç»“æ„ä½“structè¿›è¡Œç»„åˆã€‚

```go
type Person struct {
	name string
}

func (p *Person) Eat() {
	fmt.Println(p.name + "åœ¨åƒé¥­")
}

type Chinese struct {
	Person
	skin string
}

func (c *Chinese) GetSkin() string {
	return c.skin
}
```

- **_å¤šæ€_**ï¼šä½¿ç”¨interfaceæ¥å®ç°ã€‚

```go
type Human interface {
	Speck()
}

type American struct {
	name     string
	Language string
}

func (a *American) Speck() {
	fmt.Println("ç¾å›½äºº" + a.name + "è¯´" + a.Language)
}

type Chinese struct {
	name     string
	Language string
}

func (c *Chinese) Speck() {
	fmt.Println("ç¾å›½äºº" + a.name + "è¯´" + a.Language)
}
```

## å›é¡¾ä¸‹äº”å¤§åŸºæœ¬åŸåˆ™

- å•ä¸€åŠŸèƒ½åŸåˆ™ã€‚
å¯¹è±¡åº”è¯¥å…·æœ‰å•ä¸€åŠŸèƒ½ã€‚æ¯”å¦‚è¯´äººç±»ï¼Œä¸èƒ½å°†`èµ°è·¯`å’Œ`è·³è·ƒ`å®šä¹‰ä¸ºä¸€ä¸ªæ–¹æ³•ã€‚
- å¼€é—­åŸåˆ™ã€‚
ç±»æˆ–å‡½æ•°ï¼Œæ‰©å±•æˆ‘ä»¬æ˜¯å¼€æ”¾çš„ï¼Œä¿®æ”¹æˆ‘ä»¬æ˜¯è¦å…³é—­çš„ã€‚
- é‡Œæ°æ›¿æ¢åŸåˆ™ã€‚
å­ç±»å¯¹è±¡å¯ä»¥æ›¿æ¢çˆ¶ç±»å¯¹è±¡ï¼Œè€Œç¨‹åºé€»è¾‘ä¸å˜ã€‚åœ¨Goè¯­è¨€ä¸­è¦é¢å‘æ¥å£å»å¼€å‘ï¼Œæ¥å£æ˜¯å¾ˆå¥½å»æ›¿æ¢çš„ã€‚
- æ¥å£éš”ç¦»åŸåˆ™ã€‚
å°±æ˜¯è¦ä¿è¯æ¥å£çš„æœ€å°åŒ–ï¼Œæ¥å£ä¸èƒ½æ»¥ç”¨ï¼Œä¿æŒæ¥å£å®šä¹‰çš„åˆç†æ€§ï¼Œéœ€è¦æ ¹æ®ä¸šåŠ¡æ¥åˆ’åˆ†æ¥å£ã€‚
- ä¾èµ–åè½¬åŸåˆ™ã€‚
å°±æ˜¯ä¸è¦ä¾èµ–å…·ä½“çš„å®ç°ï¼Œè¦å»é¢å‘æ¥å£å»å¼€å‘ã€‚

### å•ä¸€åŠŸèƒ½åŸåˆ™å’Œå¼€é—­åŸåˆ™ç¤ºä¾‹

- Tomçš„è®¾è®¡

```go
type Bike struct{}

func (b *Bike) Move() {
	fmt.Println("éª‘è‡ªè¡Œè½¦")
}

type Car struct{}

func (b *Car) Move() {
	fmt.Println("å¼€è½¦")
}

type Person struct {
	name string
}

func (p *Person) By(action string) {
	switch action {
	case "bike":
		bike := Bike{}
		bike.Move()
	case "car":
		car := Car{}
		car.Move()
	}
}
```
çœ‹åˆ°ä¸Šé¢Tomè®¾è®¡çš„`Person`ç±»çš„`By`æ–¹æ³•äº†æ²¡æœ‰ï¼Œå®ƒé€šè¿‡ä¼ å…¥actionå‚æ•°ï¼Œå»è°ƒç”¨ä¸åŒäº¤é€šå·¥å…·çš„ç§»åŠ¨Moveæ–¹æ³•ï¼Œå…¶å®è¿™æ ·çš„è®¾è®¡æ˜¯è¿åäº†`å•ä¸€åŠŸèƒ½åŸåˆ™`ï¼Œå°±æ˜¯è¿™ä¸ª`By`æ–¹æ³•å®ƒæœ‰ä¸¤å±‚æ„æ€ï¼Œä¹Ÿè¿åäº†`å¼€é—­åŸåˆ™`ï¼Œå°±æ˜¯è¯´æˆ‘è¦å¢åŠ ä¸€ä¸ªäº¤é€šå·¥å…·å¦‚`åœ°é“`ï¼Œè¿˜è¦å†å¢åŠ ä¸€ä¸ª`case`ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢Kittyçš„è®¾è®¡æ¥é¿å…ã€‚

- Kittyçš„è®¾è®¡

```go
type Bike struct{}

func (b *Bike) Move() {
	fmt.Println("éª‘è‡ªè¡Œè½¦")
}

type Car struct{}

func (b *Car) Move() {
	fmt.Println("å¼€è½¦")
}

type Person struct {
	name string
}

func (p *Person) RideBike(bike Bike) {
	bike.Move()
}

func (p *Person) DriveCar(car Car) {
	car.Move()
}
```

Kittyçš„è®¾è®¡å°±å¾ˆå¥½ï¼Œå®ƒæ˜¯å°†ä¸€ä¸ªäººæ˜¯å¼€è½¦è¿˜æ˜¯éª‘è‡ªè¡Œè½¦çš„äº¤é€šæ–¹å¼ç±»å‹æ–¹æ³•å®šä¹‰æ‹†åˆ†å¼€äº†ï¼Œè¿™æ ·å°±å¯ä»¥å¾ˆå¥½çš„æ‰©å±•ï¼Œæ¯”å¦‚è¯´æˆ‘è¦ä¸ºè¿™ä¸ªPersonç±»å†æ·»åŠ ä¸€ä¸ªååœ°é“æ–¹å¼ï¼Œæ˜¯ä¸æ˜¯ç›´æ¥å†æ·»åŠ ä¸€ä¸ªæ–¹æ³•å°±å¯ä»¥äº†ï¼Œè€Œä¸ç”¨å†å»ä¿®æ”¹Byæ–¹æ³•äº†ï¼Œå¯¹å§ï¼Œè¿™æ ·å°±æ»¡è¶³`äº†å•ä¸€åŸåˆ™`ä»¥åŠ`å¼€é—­åŸåˆ™`ã€‚

### ä¾èµ–åè½¬åŸåˆ™ç¤ºä¾‹

- Tomçš„è®¾è®¡

```go
type V6Engine struct{}

func (v6 *V6Engine) Run() string {
	return "V6Engine run"
}

type BMWCar struct {
	engine V6Engine
}

func (bmw *BMWCar) RunEngine() string {
	return "BMWCarçš„" + bmw.engine.Run()
}
```

Tomçš„è®¾è®¡å…¶å®è¿åäº†`ä¾èµ–åè½¬åŸåˆ™`ï¼Œå®ƒä¾èµ–å…·ä½“çš„å®ç°ï¼Œè¿™ä¹ˆè¯´å§ï¼Œç°åœ¨è¿™ä¸ªå®é©¬æ±½è½¦éœ€è¦å°†V6å¼•æ“å‡çº§ä¸ºV8å¼•æ“ï¼Œä½ æ˜¯ä¸æ˜¯è¿˜è¦ä¿®æ”¹V6Engineç±»å‹åˆ°V8Engineç±»å‹ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹å¼å»é¿å…ã€‚

- Kittyçš„è®¾è®¡

```go
type Engine interface {
	Run() string
}

type BMWCar struct {
	engine Engine
}

func (bmw *BMWCar) RunEngine() string {
	return "BMWCarçš„" + bmw.engine.Run()
}
```

Kittyçš„è®¾è®¡å°±å¾ˆå¥½ï¼Œå°†æ±½è½¦å¼•æ“å®šä¹‰æˆæ¥å£ï¼Œå°±é¿å…äº†ä¾èµ–å…·ä½“çš„å®ç°ï¼Œæ¯”å¦‚è¯´ä¸Šé¢çš„å®é©¬æ±½è½¦ä¹‹å‰æ˜¯V6å¼•æ“ï¼Œç°åœ¨è¦å‡çº§ä¸ºV8å¼•æ“ï¼Œé‚£è¿™é‡Œçš„ä»£ç å…¶å®ä¸ç”¨æ”¹åŠ¨äº†ï¼Œæ·»åŠ ä¸€ä¸ªV8å¼•æ“å¹¶å°†Engineæ¥å£å®ç°å³å¯ã€‚

å¾ˆå¤šæ—¶å€™æˆ‘ä»¬çš„è®¾è®¡åŸåˆ™ï¼Œå°±æ˜¯è¦å»æ›´å¥½çš„é¢å¯¹ä¸šåŠ¡çš„å˜åŒ–ã€‚Tomçš„è®¾è®¡ä¸æ˜¯è¯´ä¸å¥½ï¼Œåœ¨é¢å¯¹éœ€æ±‚å˜åŒ–çš„æ—¶å€™ï¼Œå¯èƒ½ä¸èƒ½å¾ˆå¥½çš„åº”å¯¹ã€‚